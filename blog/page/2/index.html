
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>rapaul.com</title>
  <meta name="author" content="Richard Paul">

  
  <meta name="description" content="Below are slides I presented at the LJC Unconference on Agile Acceptance Testing with Cucumber, Cuke4Duke, Groovy &amp; Selenium. Download in PDF &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://rapaul.com/blog/page/2/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="rapaul.com" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">rapaul.com</a></h1>
  
    <h2>A technical blog written by Richard Paul</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:rapaul.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/06/27/agile-acceptance-testing-slides/">Agile Acceptance Testing Slides</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-27T01:59:50+12:00" pubdate data-updated="true">Jun 27<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Below are slides I presented at the LJC Unconference on Agile Acceptance Testing with Cucumber, Cuke4Duke, Groovy &amp; Selenium.  Download in <a href="http://www.rapaul.com/wp-content/uploads/2010/06/Acceptance_Tests.pdf">PDF</a> format.</p>

<p>View more <a href="http://www.slideshare.net/">presentations</a> from <a href="http://www.slideshare.net/rapaul">Richard Paul</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/06/22/gherkin-highlighting-for-vim/">Gherkin Highlighting for VIM</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-22T08:28:34+12:00" pubdate data-updated="true">Jun 22<span>nd</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>UPDATE: Check the comments, people have had more success with Brent&#8217;s suggestion.</p>

<p>I really wanted some highlighting on my .feature files in vim, I&#8217;m no vim expert so I did a bit of googling and came up with the following:</p>

<ul>
<li><p>Download cucumber.vim from http://github.com/tpope/vim-cucumber/blob/master/syntax/cucumber.vim</p></li>
<li><p>Save the file to ~/.vim/cucumber.vim (creating the directory if required)</p></li>
<li><p>vim ~/.vimrc and add the following lines
[cc]au Bufread,BufNewFile *.feature set filetype=gherkin
au! Syntax gherkin source ~/.vim/cucumber.vim
[/cc]</p></li>
<li><p>Make sure [cc]syntax on[/cc] is also present</p></li>
<li><p>Open your feature file</p></li>
</ul>


<p><a href="http://www.rapaul.com/wp-content/uploads/2010/06/vim-with-gherkin1.png"><img src="http://www.rapaul.com/wp-content/uploads/2010/06/vim-with-gherkin1.png" alt="" /></a></p>

<p>If anyone knows a more <em>vim</em> way of doing this feel free to add a comment.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/06/11/avoiding-brittle-tests-with-mockitos-argument-captor/">Avoiding Brittle Tests With Mockito&#8217;s ArgumentCaptor</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-11T11:28:49+12:00" pubdate data-updated="true">Jun 11<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of the core principles behind my love of <a href="http://mockito.org">Mockito</a> is its ability to avoid brittle tests, by brittle tests I mean unit tests which fail when seemingly unrelated functionality changes.</p>

<p>Below I will outline one of Mockito&#8217;s lesser known features, the <a href="http://mockito.googlecode.com/svn/branches/1.8.3/javadoc/org/mockito/ArgumentCaptor.html">ArgumentCaptor</a> that shines in certain use cases.</p>

<p>A common requirement for a web application is to send emails to users. In this case our web application is a travel booking system.  If you make use of a templating language such as Velocity your email generation service might look similar to the following:</p>

<p>[cc lang=&#8221;java&#8221;]
interface Mailer {
  void send(</p>

<pre><code>String to,
String templateName,
Map&lt;String, Object&gt; model)
</code></pre>

<p>}
[/cc]</p>

<p>Note: All examples are shown in Groovy for brevity, but the examples apply perfectly well to Java.</p>

<p>Imagine the email we send is simply welcoming the user to our web site upon registration</p>

<p>`
Welcome $name,</p>

<p>Thanks for signing up!
Book your holiday at http://example.com/
`</p>

<p>As you can see the only dynamic element required in the model map is the user&#8217;s name.  A unit test to define the behaviour of our registration service will simply verify that a map is passed with the user&#8217;s first name.</p>

<p>[cc lang=&#8221;java&#8221; lines=&#8221;150&#8221;]
private Mailer mailer
private RegistrationService registrationService</p>

<p>@Before
void setUp() {
  // Inject the mocked mailer
  mailer = mock(Mailer)
  registrationService = new RegistrationService(mailer)
}</p>

<p>@Test
void shouldSendRegistrationEmailWelcomingUser() {
  // given a new user
  User user = new User(&#8220;Jim&#8221;, &#8220;jim@example.com&#8221;)</p>

<p>  // when the user registers
  registrationService.register(user)</p>

<p>  // then an email should be sent welcoming the user
  verify(mailer).send(&#8220;jim@example.com&#8221;, &#8220;welcome.vm&#8221;, [&#8220;name&#8221;:&#8221;Jim&#8221;])
}
[/cc]</p>

<p>As you can see the test starts off simple, we are verifying the mailer&#8217;s send call was invoked with the correct email address, template name and model data.  In this case the model simply contains the name of the newly registered user.</p>

<p>A new requirement arrives which states we want to include the latest holiday deals in the welcome email.</p>

<p>`
Welcome $name,</p>

<p>Thanks for signing up!
Book your holiday at http://example.com/</p>

<p>Check out our latest travel offerings:</p>

<h1>foreach($offer in $offers)</h1>

<h1>end</h1>

<p>`</p>

<p>In order to test this requirement, a naive approach would be to simply add the travel offering assertions into the first test we created.  This has the downside that the test is no longer specific to a particular requirement, as we add more content to our email the test would continue to grow and become unwieldy (especially if any conditional logic exists).  We want to keep our tests focussed by limiting each test to a <a href="http://laribee.com/one-logical-assertion-per-test">single logical assert</a>.</p>

<p>Below we create a second test specific to the inclusion of the latest offers.</p>

<p>[cc lang=&#8221;java&#8221;]
@Test
void shouldSendRegistrationEmailWithLatestTravelOfferings() {
  // given a new user
  User user = new User(&#8220;Jim&#8221;, &#8220;jim@example.com&#8221;)
  // and the latest travel offers
  def offers = [&#8220;Offer 1&#8221;, &#8220;Offer 2&#8221;]
  given(latestOffers.get()).willReturn(offers)</p>

<p>  // when the user registers
  registrationService.register(user)</p>

<p>  // then an email should be sent with the latest travel offers
  verify(mailer).send(&#8220;jim@example.com&#8221;, &#8220;welcome.vm&#8221;, [&#8220;offers&#8221;:offers])
}
[/cc]</p>

<p>At first glance this looks like a good test, we are checking the latest offers are included in the model so they can be rendered in the email template.</p>

<p>Unfortunately both tests will fail.</p>

<p>In order to verify the correct calls are made, Mockito uses the equality (equals) method of the passed arguments.  In the above case we are checking the equality of two strings and a map.  It is of course the equality of the model map that is causing the test to fail.</p>

<p>shouldSendRegistrationEmailWelcomingUser() fails as Mockito is expecting a map containing simply the user&#8217;s name [name:&#8221;Jim&#8221;], but due to the added travel offerings the map is actually [name:&#8221;Jim&#8221;, offers:offers].  The same failure applies to shouldSendRegistrationEmailWithLatestTravelOfferings() as it is verifying the map only contains offers.</p>

<p>As mailer.send() has no return type (void) we have no simple way to access the model map in our test.  However Mockito offers a couple of ways around this, the first is the creation of a custom Matcher.  The second is to use an ArgumentCaptor which is the approach I will be using today.</p>

<p><a href="http://www.rapaul.com/wp-content/uploads/2010/06/pokeball1.png"><img src="http://www.rapaul.com/wp-content/uploads/2010/06/pokeball1.png" alt="Gotta catch 'em all!" /></a></p>

<p>The ArgumentCaptor is a specialised ArgumentMatcher that records the matched argument for later inspection.</p>

<p>[cc lang=&#8221;java&#8221; lines=&#8221;150&#8221;]
@Test
void shouldSendRegistrationEmailWelcomingUser() {
  // given a new user
  User user = new User(&#8220;Jim&#8221;, &#8220;jim@example.com&#8221;)</p>

<p>  // when the user registers
  registrationService.register(user)</p>

<p>  // then an email should be sent welcoming the user
  ArgumentCaptor model = ArgumentCaptor.forClass(Map)
  verify(mailer).send(eq(&#8220;jim@example.com&#8221;), eq(&#8220;welcome.vm&#8221;), model.capture())
  assertThat(model.value.name, is(&#8220;Jim&#8221;))
}
[/cc]</p>

<p>Firstly an ArgumentCaptor is created for the class, in this case Map, we wish to inspect.  The ArgumentCaptor is then used as an ArgumentMatcher in the verify call.  No matter what keys or values the model map contains, the ArgumentCaptor will always match thus allowing the verify call to succeed.  Now that we have captured the model we can inspect it by calling getValue() (simply value in Groovy) to access the original map that was passed to the Mailer service by our production code.  By verifying only the key/value pairs that are specific to our test (the user&#8217;s name) we can ensure that any other pieces of information that are added to the map in the future don&#8217;t affect any of the existing tests.</p>

<p>The astute reader may have noticed the inclusion of equality matchers for both the email address eq(&#8220;jim@example.com&#8221;) and the template name.  While Mockito relies on the equality method of the arguments by default, if any of the arguments are an ArgumentMatcher, then all of the arguments must be a matcher.</p>

<p>In summary, the ArgumentCaptor allows tests to remain focussed with a single logical assert, even when the object you wish to inspect is created in the code under test and passed to a collaborator via a void method call.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/05/04/cucumber-world-with-groovy/">Cucumber World With Groovy</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-05-04T03:37:43+12:00" pubdate data-updated="true">May 4<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://cukes.info/">Cucumber</a> provides the ability to create a <em>world</em> in which you can expose useful methods for the testing environment.  This post briefly details how to expose these methods when using Groovy with <a href="http://wiki.github.com/aslakhellesoy/cuke4duke/">Cuke4Duke</a>.</p>

<p>`
Feature: World
In order to make useful methods available
As a tester
I want the world to be full of wonderful methods</p>

<p>Scenario: Greet
When I greet
&#8230;</p>

<p>Scenario: Farewell
When I farewell
&#8230;
`</p>

<p>These scenarios capture the ability to greet and farewell our customers.  The matching step definitions are shown below.</p>

<p>[cc lang=&#8221;java&#8221; lines=&#8221;150&#8221;]
// hello_steps.groovy
import static org.junit.Assert.<em>
import static org.hamcrest.CoreMatchers.</em></p>

<p>this.metaClass.mixin(cuke4duke.GroovyDsl)</p>

<p>When(~&#8217;I greet&#8217;) {
  assertThat(hello(), is(&#8216;hi&#8217;))
}</p>

<p>When(~&#8217;I farewell&#8217;) {
  assertThat(goodbye(), is(&#8216;ciao&#8217;))
}
[/cc]</p>

<p>You will notice that we haven&#8217;t defined the <em>hello()</em> or <em>goodbye()</em> methods anywhere in our step definition file.  We are assuming these methods are provided by the <em>world</em> environment that Cucumber provides.  This allows the <em>world</em> methods to be shared between many different step definition files.</p>

<p>Next we define the <em>world</em> environment.  Instead of defining all methods in a single class, we can group the methods into individual classes and make them all available on the <em>world</em> class at runtime using <a href="http://groovy.codehaus.org/Runtime+mixins">Groovy&#8217;s mixin</a> support.</p>

<p>[cc lang=&#8221;java&#8221; lines=&#8221;150&#8221;]
// env.groovy
this.metaClass.mixin(cuke4duke.GroovyDsl)</p>

<p>class Greeter {
  def hello() {</p>

<pre><code>'hi'
</code></pre>

<p>  }
}</p>

<p>class Fareweller {
  def goodbye() {</p>

<pre><code>'ciao'
</code></pre>

<p>  }
}</p>

<p>class World {}</p>

<p>World() {
  World.mixin Greeter, Fareweller
  new World()
}
[/cc]</p>

<p>The <em>World()</em> call is part of Cucumber&#8217;s DSL, here we use it to publish an instance of our <em>World</em> class thus making both <em>hello()</em> and <em>goodbye()</em> available in the testing environment (note that the name of the <em>World</em> class is not important).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/03/17/cucumber-session-fixation/">A Cucumber Scenario for Session Fixation Attacks</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-03-17T10:13:29+13:00" pubdate data-updated="true">Mar 17<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>When working on a Spring project I was alerted via the logs that my login handling was susceptible to <a href="http://en.wikipedia.org/wiki/Session_fixation">Session Fixation Attacks</a>.  It was nice of Spring to alert me of this, and it seems like the <a href="http://markmail.org/thread/o7f6d5gkle4kqqbt">problem</a> is due to the Apache httpd connection via mod_jk.  But before diving into a solution I decided to write a simple acceptance test using <a href="http://cukes.info/">Cucumber</a>.  This allows me to first prove the security hole is present, easily tell when I have fixed it and has the additional benefit of being able to add the check to a set of automated regression tests to ensure it never happens again.</p>

<p>The countermeasure <a href="http://static.springsource.org/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/web/authentication/session/SessionFixationProtectionStrategy.html">built into Spring</a> uses the <a href="http://en.wikipedia.org/wiki/Session_fixation#Best_solution:_Identity_Confirmation">Identity Confirmation</a> technique.  This basically involves invalidating a user&#8217;s session when they login and creating a new session with a different <em>JSESSIONID</em>.  It turns out to be fairly easy to write a test for this in Cucumber.  Firstly I wrote the plain text scenario:</p>

<pre><code>Scenario: Avoiding Session Fixation Attacks through Identity Confirmation
Given I have a session ID
When I sign in
Then I should have a different session ID
</code></pre>

<p>The next step is to write the step definitions.  <a href="http://wiki.github.com/aslakhellesoy/cuke4duke/">Cuke4Duke</a> provides Cucumber support for JVM languages and makes it easy to write reusable step definitions.  As I&#8217;m a fan of the expressiveness of Groovy I chose to write the step definitions using the <a href="http://wiki.github.com/aslakhellesoy/cuke4duke/groovy">GroovyDsl</a>.</p>

<p>[cc lang=&#8221;java&#8221; lines=&#8221;150&#8221;]
import org.openqa.selenium.By
import static org.junit.Assert.<em>
import static org.junit.matchers.JUnitMatchers.</em>
import static org.hamcrest.CoreMatchers.*</p>

<p>this.metaClass.mixin(cuke4duke.GroovyDsl)</p>

<p>def sessionId</p>

<p>Given(~&#8217;I have a session ID&#8217;) {
  browser.get(&#8220;$host/signin&#8221;)
  sessionId = getSessionId()
}</p>

<p>When(~&#8217;I sign in&#8217;) {
  def signinForm = browser.findElement(By.name(&#8216;signin&#8217;))
  signinForm.findElement(By.name(&#8216;j_username&#8217;)).sendKeys(&#8216;testing@example.com&#8217;)
  signinForm.findElement(By.name(&#8216;j_password&#8217;)).sendKeys(&#8216;123456&#8217;)
  signinForm.submit()
}</p>

<p>Then(~&#8217;I should have a different session ID&#8217;) {
  assertThat(getSessionId(), is(not(sessionId)));
}</p>

<p>def getSessionId() {
  browser.manage().cookies.find() { it.name == &#8216;JSESSIONID&#8217; }.value
}
[/cc]</p>

<p>The <em>browser</em> variable is injected via <em>env.groovy</em> as an instance of <a href="http://webdriver.googlecode.com/svn/javadoc/org/openqa/selenium/WebDriver.html">WebDriver</a> which provides the methods to find elements and manage cookies.</p>

<p><em>def sessionId</em> simply declares a variable allowing sharing of state between the steps so we can check the session ID has been changed.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/02/15/request-mapping-ordering/">Avoiding Ambiguities When Using @RequestMapping</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-02-15T06:30:16+13:00" pubdate data-updated="true">Feb 15<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve recently been using the param attribute of the <a href="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html">@RequestMapping</a> annotation from Spring MVC.</p>

<p>Take the case of a search feature for a website.  If a &#8216;refine&#8217; parameter is present, the user should be shown a search form to refine their criteria. However if the refine parameter is not present the user is shown the search results for the query.
[cc lang=&#8221;java&#8221;]
@RequestMapping(value=&#8221;/search&#8221;, method=RequestMethod.GET)
public class SearchController {</p>

<p>  // Handles search?query=dog&refine;=true
  @RequestMapping(params=&#8221;refine=true&#8221;)
  public void refine() { &#8230; }</p>

<p>  // Handles search?query=dog
  @RequestMapping
  public void search() { &#8230; }</p>

<p>}
[/cc]</p>

<p>While this code will initially work, there is some ambiguity in the way the URLs are matched.  The order in which the @RequestMapping mappings are defined in the class file is actually determining which method will be called.  If we were to define the search() method first, then a request to search?query=dog&refine;=true would satisfy the conditions for the search() method&#8217;s @RequestMapping and thus the params=&#8221;refine=true&#8221; on the refine() method has no bearing on the outcome of the request.</p>

<p>To safeguard the controller against the potential reordering of methods in a class (which in usual Java programming has no affect on the outcome of running code), we need to ensure the parameter mapping is explicit.</p>

<p>[cc lang=&#8221;java&#8221;]
// Match if &#8216;refine&#8217; parameter is present
@RequestMapping(params=&#8221;refine=true&#8221;)
public void refine() { &#8230; }
// Match if &#8216;refine&#8217; parameter is not present
@RequestMapping(params=&#8221;!refine=true&#8221;)
public void search() { &#8230; }
[/cc]</p>

<p>By explicitly checking the refine parameter is not present for the search method&#8217;s request mapping (!refine=true), the declaration order of our @RequestMapping annotations in the class file has no bearing on which method handles the request thus making our code robust to the reordering methods.  Similar precautions should be taken with the other attributes of @RequestMapping including method and headers.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/01/14/my-git-svn-workflow/">My Git Svn Workflow</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-14T11:28:03+13:00" pubdate data-updated="true">Jan 14<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Below are the steps I use when working with Git &amp; SVN. Please note, I am in no way a Git or SVN expert, but these are the steps that seem to work for me.</p>

<p><strong>1) Checkout codebase</strong>
This step only needs to be done once, it will pull down a local copy of the entire history allowing for very fast nagivation of revisions and allow work to be down when no connection to a central repository is available.</p>

<pre><code>git svn clone svn://path/to/code/ --stdlayout
</code></pre>

<p><strong>2) Create a topic branch to work on</strong>
We now want to start work on our first story, so we create a local branch for it.  This allows us to keep all changes related to the first story out of the master branch.  By keeping the master branch clean we can create as many local branches as we wish from it allowing us to quickly fix a bug in a separate local branch to the story we are working on.  I&#8217;ll come to this later.  The <em>-b</em> option means checkout and create a branch, this is a shortcut to creating the branch then checking it out.</p>

<pre><code>git checkout -b story1
</code></pre>

<p>.. implement the first story ..</p>

<p><strong>3) Add all new/deleted/modified files to staging area</strong>
With git you can stage just the files that are important, these staged items then make up the contents of your commit.</p>

<pre><code>git add path/to/resource
</code></pre>

<p><strong>4) Create a commit</strong>
We then create a commit of the staged files in our local branch, note this differs from SVN as a commit is only local.</p>

<pre><code>git commit -m "My commit message"
</code></pre>

<p><strong>5) Merge changes from your topic branch into the master branch</strong>
Ensure the master branch is up to date</p>

<pre><code>git checkout master
git svn rebase
</code></pre>

<p>Then merge your topic branch into master</p>

<pre><code>git merge story1
</code></pre>

<p><strong>6) Merge conflicts</strong>
Merge any conflicts either manually or using <em>mergetool</em> (I&#8217;m yet to figure out how to use the <em>mergetool</em> command)</p>

<p><strong>7) Push to SVN</strong>
This is the bridge that takes our Git commits and pushes them to SVN.  Each Git commit will be mapped to a respective SVN commit.</p>

<pre><code>git svn dcommit
</code></pre>

<p><strong>Working with multiple branches</strong>
As I mentioned earlier, one of the major advantages of Git over SVN is the ability to have multiple working branches locally, allowing you to switch between them with relative ease.  Take for example you are working on a story, it might take you a whole day to get it done.  At midday an urgent support request arrives for a bug in the live software.  Using SVN I would typically have to checkout the HEAD revision into a separate directory and import it into Eclipse as a new project.  With Git it is much simpler, I use the following steps to do the switching.</p>

<h1>Commit all current work to the topic branch</h1>

<pre><code>git add path/to/noncommited/work
</code></pre>

<h1>Switch to the master branch and make sure it is up to date</h1>

<pre><code>git checkout master
git svn rebase
</code></pre>

<h1>Create a new branch for the bug fix</h1>

<pre><code>git checkout -b bugfix
</code></pre>

<h1>Fix the bug</h1>

<h1>Follow steps 3-7 above</h1>

<h1>Carry on working on the story</h1>

<pre><code>git checkout story1
</code></pre>

<p><strong>Git GUI</strong>
You can use the <a href="http://www.kernel.org/pub/software/scm/git/docs/git-gui.html">Git GUI</a> tool for most of the steps above, I find it particularly useful for steps 3 &amp; 4.
You can also review the history and changes using gitk, this is useful for code reviews before you push your code into a master repo.</p>

<p><strong>JGit (Eclipse Plugin)</strong>
I use the <a href="http://www.jgit.org/">JGit Eclipse Plugin</a> when working in Eclipse, it provides a diff with the previous version which I find invaluable.
Install in Eclipse using the update site: http://www.jgit.org/updates</p>

<p><strong>References</strong>
<a href="http://blog.tsunanet.net/2007/07/learning-git-svn-in-5min.html">http://blog.tsunanet.net/2007/07/learning-git-svn-in-5min.html</a>
<a href="http://stackoverflow.com/questions/190431/is-git-svn-dcommit-after-merging-in-git-dangerous">http://stackoverflow.com/questions/190431/is-git-svn-dcommit-after-merging-in-git-dangerous</a>
<a href="http://www.kernel.org/pub/software/scm/git/docs/user-manual.html#resolving-a-merge">http://www.kernel.org/pub/software/scm/git/docs/user-manual.html#resolving-a-merge</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/09/16/jquery-behaviours/">jQuery Behaviours</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-16T08:55:02+12:00" pubdate data-updated="true">Sep 16<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Below are slides from a short presentation I gave to my colleagues at f1000.  The slides contain a brief background on Javascript behaviours and provide a comparison between jQueries&#8217; <a href="http://docs.jquery.com/Events/bind">bind</a> and <a href="http://docs.jquery.com/Events/live">live</a> behaviours along with the <a href="http://docs.jquery.com/Plugins/livequery">liveQuery plugin</a>.</p>

<p><a href="http://www.slideshare.net/rapaul/jquery-behaviours">jQuery Behaviours</a></p>

<p>View more <a href="http://www.slideshare.net/">documents</a> from <a href="http://www.slideshare.net/rapaul">Richard Paul</a>.</p>

<p>I have also created two little pages which demonstrate <a href="http://files.rapaul.com/behaviour/delegation.html">event bubbling</a> and how the different <a href="http://files.rapaul.com/behaviour/behaviour.html">behaviour mechanisms</a> work with form submission (hint: try using Internet Exploder with the &#8216;live&#8217; example).</p>

<p>A <a href="http://www.rapaul.com/wp-content/uploads/2009/09/jquery_behaviours.pdf">PDF version</a> of the slides is available.</p>

<p>Thanks to my manager Phil, for letting me post this on my personal blog.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/09/14/a-behavioural-world/">A Behavioural World</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-14T05:16:49+12:00" pubdate data-updated="true">Sep 14<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Or at least a behavioural twitter world,</p>

<p><a href="http://abehaviouralworld.rapaul.com/"><img src="http://www.rapaul.com/wp-content/uploads/2009/09/intro.png" alt="introduction" /></a></p>

<p><a href="http://abehaviouralworld.rapaul.com/">http://abehaviouralworld.rapaul.com/</a> is a little project just launched which attempts to distill behaviours from twitter. Given my recent rapture in the world of <a href="http://en.wikipedia.org/wiki/Behaviour_driven_development">BDD</a>, the behaviours we are distilling are those that match the scenario format.</p>

<pre><code>Given ...
When ...
Then ...
</code></pre>

<p>If you look carefully at the page source, you will notice a large portion of it is dedicated to an HTML comment containing the list of features and the breakdown into scenarios.  To keep things easily accessible, each time I thought of a scenario I added it to the page, once completed, it was marked with [Done].</p>

<p>For example, starting with the most important feature:</p>

<pre><code>  Feature 1)
  In order to see how BDD syntax is being used on twitter
  As a BDD zealot
  I want to see tweets that contain 'given', 'when' &amp; 'then', in that order.
</code></pre>

<p>I then broke this feature down into scenarios:</p>

<pre><code>  [Done]
  Given the search returns more than matching 10 tweets
  When the user views the page
  Then the 10 most recent tweets should be displayed

  ...
</code></pre>

<p>Each time a scenario was satisfied, I marked it with [Done]. Not all scenarios ended up being all that important, the following scenario is still pending.</p>

<pre><code>  Given the search returns no matching tweets
  When the user views the page
  Then instead of showing any tweets a message should be shown
</code></pre>

<p>In fact, if we attempt to tie this scenario back into the vision of the website (distilling behaviours in twitter), then we realise it adds no value. If no one is tweeting about behaviours, then it is highly unlike that anyone will be visiting our behaviour distillery.</p>

<p>There are a couple of features (3 &amp; 4) in the source which haven&#8217;t yet been implemented.</p>

<pre><code>  Feature 3)
  In order to emphasis the given/when/then syntax
  As a BDD zealot
  I want to see give/when/then highlighted in the displayed tweets

  Feature 4)
  In order to encourage BDD syntax usage on twitter
  As a BDD zealot
  I want to be able to tweet from this page using a BDD template
</code></pre>

<p>If anyone would like to work on these features, or even just break down some useful scenarios, please feel free to fork the <a href="http://github.com/rapaul/abehaviouralworld">code on github</a>, provide me with a diff or add a comment (note at the time of writing github looks to be having some caching issues on the &#8216;Source&#8217; tab).</p>

<p><strong>What no executable scenarios?</strong>
Oops, nope. I&#8217;m yet to get into the world of writing executable scenarios in Javascript. If someone has some knowledge in this area, please feel free to fork the <a href="http://github.com/rapaul/abehaviouralworld">github repository</a> and start automating the scenarios from the page source.</p>

<p>PS: This idea was partially inspired by a <a href="http://twitter.com/soulnafein/status/3712851157">tweet by soulnafein</a> which read:
<em>My girlfriend is taking the mickey out of me because recently I started explaining things using the Scenario format (Given When Then) :-)</em></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/09/02/meetups-in-london/">Meetups in London</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-02T11:04:50+12:00" pubdate data-updated="true">Sep 2<span>nd</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of the great things about London, from a developer&#8217;s perspective, is the wealth of meetups going on.  Don&#8217;t get me wrong, in Auckland we had a few notable meetups including the <a href="http://www.meetup.com/auckland-jug/">Auckland JVM Group</a> and the <a href="http://www.meetup.com/aucklandweb/">Auckland Web Meetup</a>. But London has more people, more developers &amp; hence more meetups.</p>

<p>Below is a live calendar of the meetups I&#8217;m planning on attending,</p>

<p>I&#8217;ll try to keep this up to date, so feel free to subscribe to the calendar if you have similar interests (java, javascript, groovy, scala, testing, mocking, android, webOS, html5&#8230; anything you see in this blog&#8217;s tag cloud).</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/3/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/07/11/constructor-injection-unit-tests/">Constructor injection, and how it simplifies unit test setup</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/06/zero-to-headless-browser-tests-jenkins/">From zero to headless browser tests in Jenkins</a>
      </li>
    
      <li class="post">
        <a href="/2011/04/13/specification-by-example-review/">Specification by Example, a review in snippets</a>
      </li>
    
      <li class="post">
        <a href="/2011/03/25/cucumber-on-the-jvm-with-groovy/">Cucumber on the JVM with Groovy</a>
      </li>
    
      <li class="post">
        <a href="/2011/02/28/vertical-slicing/">Vertical Slicing</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/rapaul">@rapaul</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'rapaul',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("rapaul", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/rapaul" class="twitter-follow-button" data-show-count="false">Follow @rapaul</a>
  
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Richard Paul -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'rapaul';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
