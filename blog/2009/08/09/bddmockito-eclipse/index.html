
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>BDDMockito & Eclipse - rapaul.com</title>
  <meta name="author" content="Richard Paul">

  
  <meta name="description" content="On the 23rd of July, Mockito 1.8.0 was released, you can see a full listing of changes in their release notes. One feature that took my fancy was the &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://rapaul.github.com/blog/2009/08/09/bddmockito-eclipse/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="rapaul.com" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">rapaul.com</a></h1>
  
    <h2>A technical blog written by Richard Paul</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:rapaul.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">BDDMockito & Eclipse</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-09T21:32:49+12:00" pubdate data-updated="true">Aug 9<span>th</span>, 2009</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>On the 23rd of July, <a href="http://mockito.org/">Mockito</a> 1.8.0 was released, you can see a full listing of changes in their <a href="http://code.google.com/p/mockito/wiki/ReleaseNotes">release notes</a>.  One feature that took my fancy was the inclusion of <a href="http://en.wikipedia.org/wiki/Behavior_Driven_Development">BDD</a> aliases for stubbing an API, instead of using when, the Mockito team now encourage the use of given to bring your tests inline with the BDD style. To illustrate this, here is an example taken from the <a href="http://mockito.googlecode.com/svn/branches/1.8.0/javadoc/org/mockito/BDDMockito.html">BDDMockito javadoc</a>.</p>

<p>[cc lang=&#8221;java&#8221; lines=&#8221;50&#8221;]
import static org.mockito.BDDMockito.*;</p>

<p>Seller seller = mock(Seller.class);
Shop shop = new Shop(seller);</p>

<p>public void shouldBuyBread() throws Exception {
  //given<br/>
  given(seller.askForBread()).willReturn(new Bread());</p>

<p>  //when
  Goods goods = shop.buyBread();</p>

<p>  //then
  assertThat(goods, containBread());
}<br/>
[/cc]</p>

<p>By breaking the test into given, when &amp; then, future maintainers of the tests will more quickly understand which parts of the test relate to setup, exercising the SUT and asserting.</p>

<p><em>(stealing from Apple&#8217;s <a href="http://www.youtube.com/watch?v=szrsfeyLzyg">AppStore ad</a>)</em> What&#8217;s great about Eclipse, is that if you want to write a foreach loop, there&#8217;s a template for that.  If you want to create a unit test, there&#8217;s a template for that. Yip there&#8217;s an <del>app</del> template for just about anything.</p>

<p>To minimise keystrokes and encourage the use of this style, you can modify the existing Test template as shown below to automatically generate the BDD style comments &amp; statically import the BDDMockito members.  To modify the template, navigate to Window > Preferences > Java > Editor > Templates.  Click on Test (the JUnit 4 test template) and click edit.  Paste in the follow template:</p>

<p>[cc lang=&#8221;java&#8221; lines=&#8221;50&#8221;]
@${testType:newType(org.junit.Test)}</p>

<p>public void ${testname}() throws Exception {
  // given ${cursor}
  ${staticImport:importStatic(&#8216;org.junit.Assert.<em>&#8217;, &#8216;org.mockito.BDDMockito.</em>&#8217;)}</p>

<p>  // when</p>

<p>  // then</p>

<p>}
[/cc]</p>

<p>You are now ready to start writing BDDMockito style unit tests using Eclipse&#8217;s template, simply type Test, hit Ctrl+Space and you will be given the following option.</p>

<p><img src="http://www.rapaul.com/wp-content/uploads/2009/08/ctrl-space.png" alt="ctrl-space" /></p>

<p>Selecting the option will generate the test method, focus first given to the test name, then to the blank line after // given.</p>

<p><img src="http://www.rapaul.com/wp-content/uploads/2009/08/created-template.jpg" alt="created-template" /></p>

<p>There you have it, a simple Eclipse template to generate your BDDMockito style tests.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Richard Paul</span></span>

      








  


<time datetime="2009-08-09T21:32:49+12:00" pubdate data-updated="true">Aug 9<span>th</span>, 2009</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://rapaul.github.com/blog/2009/08/09/bddmockito-eclipse/" data-via="rapaul" data-counturl="http://rapaul.github.com/blog/2009/08/09/bddmockito-eclipse/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2009/06/12/review-spring-web-flow-2/" title="Previous Post: Review: Spring Web Flow 2 Web Development">&laquo; Review: Spring Web Flow 2 Web Development</a>
      
      
        <a class="basic-alignment right" href="/blog/2009/09/02/meetups-in-london/" title="Next Post: Meetups in London">Meetups in London &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2011/07/11/constructor-injection-unit-tests/">Constructor injection, and how it simplifies unit test setup</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/06/06/zero-to-headless-browser-tests-jenkins/">From zero to headless browser tests in Jenkins</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/04/13/specification-by-example-review/">Specification by Example, a review in snippets</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/03/25/cucumber-on-the-jvm-with-groovy/">Cucumber on the JVM with Groovy</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/02/28/vertical-slicing/">Vertical Slicing</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/rapaul">@rapaul</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'rapaul',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("rapaul", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/rapaul" class="twitter-follow-button" data-show-count="false">Follow @rapaul</a>
  
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Richard Paul -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'rapaul';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://rapaul.github.com/blog/2009/08/09/bddmockito-eclipse/';
        var disqus_url = 'http://rapaul.github.com/blog/2009/08/09/bddmockito-eclipse/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
